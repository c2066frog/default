<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>PaysApiDemo</title>
    <link rel="stylesheet" href="plugins/bootstrap-3.3.7/css/bootstrap.min.css">
    <script src="plugins/jquery-1.12.4/jquery.min.js"></script>
    <script src="plugins/jquery-1.12.4/jQuery.md5.js"></script>
</head>
<body>
    <div class="container">
        <div class="col-sm-8" style="padding-top: 120px;">
            <form class="form-horizontal" method="post" action="https://pay.bearsoftware.net.cn/" onsubmit="return paySubmit(this);">
                <input type="hidden" class="form-control" name="uid" value="3d25a140e4df9d6f3e65e8a8">
                <input type="hidden" class="form-control" name="token" value="6c937919b8b825b2ba8f687436be6e53">
                <input type="hidden" class="form-control" name="key" value="">
                <div class="form-group">
                    <label class="control-label col-sm-3 hidden-xs">金额</label>
                    <div class="col-sm-7">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input type="number" class="form-control" step="0.01" name="price" placeholder="请输入金额" value="0.00" required>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3 hidden-xs">支付渠道</label>
                    <div class="col-sm-7">
                        <div class="checkbox">
                            <label> <input type="radio" name="istype" value="1" checked>
                                <span>支付宝</span>
                            </label>
                        </div>
                        <div class="checkbox">
                            <label> <input type="radio" name="istype" value="3">
                                <span>支付宝(免挂机)</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3 hidden-xs">通知回调网址</label>
                    <div class="col-sm-7">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input type="text" class="form-control" name="notify_url" readonly placeholder="请输入通知回调网址" value="https://www.baidu.com/">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3 hidden-xs">跳转网址</label>
                    <div class="col-sm-7">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input type="text" class="form-control" name="return_url" readonly placeholder="请输入跳转网址" value="https://www.baidu.com/">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3 hidden-xs">订单号</label>
                    <div class="col-sm-7">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input type="text" class="form-control" name="orderid" readonly placeholder="请输入订单号">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3 hidden-xs">商品自定义商户号</label>
                    <div class="col-sm-7">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input type="text" class="form-control" name="orderuid" placeholder="（选填）商品自定义商户号">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3 hidden-xs">商品名</label>
                    <div class="col-sm-7">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input type="text" class="form-control" name="goodsname" placeholder="（选填）请输入商品名">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-3 col-sm-7">
                        <button type="submit" class="btn btn-primary col-xs-12">获取</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</body>
<script>
    $(function () {
        $('.form-control[name="orderid"]').val((new Date()).getTime());
    });

    function paySubmit(e) {
        let plaintext = $(e.goodsname).val() + $(e.istype).val() + $(e.notify_url).val() + $(e.orderid).val() + $(e.orderuid).val() + $(e.price).val() + $(e.return_url).val() + $(e.token).val() + $(e.uid).val();
        let ciphertext = $.md5(plaintext);

        $('.form-control[name="key"]').val(ciphertext);

        e.submit();
        return false;
    }
</script>
</html>